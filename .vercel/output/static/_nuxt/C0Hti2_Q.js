import{m as B,t as Y,w as D,u as N,c as U,i as I,b as j,d as K,e as G,f as V,n as J}from"./Jujza_DT.js";import{L as m,e as P,l as T,$ as x,aD as k,m as Q,R as Z,h as ee,S as te,H as L}from"./CUTs2qnP.js";function ce(t={}){const{inheritAttrs:o=!0}=t,u=m(),n=P({setup(e,{slots:r}){return()=>{u.value=r.default}}}),s=P({inheritAttrs:o,props:t.props,setup(e,{attrs:r,slots:f}){return()=>{var v;if(!u.value)throw new Error("[VueUse] Failed to find the definition of reusable template");const c=(v=u.value)===null||v===void 0?void 0:v.call(u,{...t.props==null?oe(r):e,$slots:f});return o&&c?.length===1?c[0]:c}}});return B({define:n,reuse:s},[n,s])}function oe(t){const o={};for(const u in t)o[U(u)]=t[u];return o}const X=I?window:void 0,q=I?window.navigator:void 0;function C(t){var o;const u=x(t);return(o=u?.$el)!==null&&o!==void 0?o:u}function S(...t){const o=(n,s,e,r)=>(n.addEventListener(s,e,r),()=>n.removeEventListener(s,e,r)),u=T(()=>{const n=Y(x(t[0])).filter(s=>s!=null);return n.every(s=>typeof s!="string")?n:void 0});return D(()=>{var n,s;return[(n=(s=u.value)===null||s===void 0?void 0:s.map(e=>C(e)))!==null&&n!==void 0?n:[X].filter(e=>e!=null),Y(x(u.value?t[1]:t[0])),Y(ee(u.value?t[2]:t[1])),x(u.value?t[3]:t[2])]},([n,s,e,r],f,v)=>{if(!n?.length||!s?.length||!e?.length)return;const c=K(r)?{...r}:r,a=n.flatMap(i=>s.flatMap(h=>e.map(y=>o(i,h,y,c))));v(()=>{a.forEach(i=>i())})},{flush:"post"})}function ne(){const t=m(!1),o=Z();return o&&Q(()=>{t.value=!0},o),t}function W(t){const o=ne();return T(()=>(o.value,!!t()))}function se(t,o,u={}){const{window:n=X,...s}=u;let e;const r=W(()=>n&&"MutationObserver"in n),f=()=>{e&&(e.disconnect(),e=void 0)},v=L(T(()=>{const i=Y(x(t)).map(C).filter(J);return new Set(i)}),i=>{f(),r.value&&i.size&&(e=new MutationObserver(o),i.forEach(h=>e.observe(h,s)))},{immediate:!0,flush:"post"}),c=()=>e?.takeRecords(),a=()=>{v(),f()};return V(a),{isSupported:r,stop:a,takeRecords:c}}function F(t,o={}){const{controls:u=!1,navigator:n=q}=o,s=W(()=>n&&"permissions"in n),e=m(),r=typeof t=="string"?{name:t}:t,f=m(),v=()=>{var a,i;f.value=(a=(i=e.value)===null||i===void 0?void 0:i.state)!==null&&a!==void 0?a:"prompt"};S(e,"change",v,{passive:!0});const c=j(async()=>{if(s.value){if(!e.value)try{e.value=await n.permissions.query(r)}catch{e.value=void 0}finally{v()}if(u)return te(e.value)}});return c(),u?{state:f,isSupported:s,query:c}:f}function de(t={}){const{navigator:o=q,read:u=!1,source:n,copiedDuring:s=1500,legacy:e=!1}=t,r=W(()=>o&&"clipboard"in o),f=F("clipboard-read"),v=F("clipboard-write"),c=T(()=>r.value||e),a=m(""),i=m(!1),h=N(()=>i.value=!1,s,{immediate:!1});async function y(){let l=!(r.value&&g(f.value));if(!l)try{a.value=await o.clipboard.readText()}catch{l=!0}l&&(a.value=$())}c.value&&u&&S(["copy","cut"],y,{passive:!0});async function w(l=x(n)){if(c.value&&l!=null){let p=!(r.value&&g(v.value));if(!p)try{await o.clipboard.writeText(l)}catch{p=!0}p&&M(l),a.value=l,i.value=!0,h.start()}}function M(l){const p=document.createElement("textarea");p.value=l,p.style.position="absolute",p.style.opacity="0",p.setAttribute("readonly",""),document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function $(){var l,p,b;return(l=(p=document)===null||p===void 0||(b=p.getSelection)===null||b===void 0||(b=b.call(p))===null||b===void 0?void 0:b.toString())!==null&&l!==void 0?l:""}function g(l){return l==="granted"||l==="prompt"}return{isSupported:c,text:k(a),copied:k(i),copy:w}}function ue(t,o,u={}){const{window:n=X,...s}=u;let e;const r=W(()=>n&&"ResizeObserver"in n),f=()=>{e&&(e.disconnect(),e=void 0)},v=L(T(()=>{const a=x(t);return Array.isArray(a)?a.map(i=>C(i)):[C(a)]}),a=>{if(f(),r.value&&n){e=new ResizeObserver(o);for(const i of a)i&&e.observe(i,s)}},{immediate:!0,flush:"post"}),c=()=>{f(),v()};return V(c),{isSupported:r,stop:c}}const re={page:t=>[t.pageX,t.pageY],client:t=>[t.clientX,t.clientY],screen:t=>[t.screenX,t.screenY],movement:t=>t instanceof MouseEvent?[t.movementX,t.movementY]:null};function ae(t={}){const{type:o="page",touch:u=!0,resetOnTouchEnds:n=!1,initialValue:s={x:0,y:0},window:e=X,target:r=e,scroll:f=!0,eventFilter:v}=t;let c=null,a=0,i=0;const h=m(s.x),y=m(s.y),w=m(null),M=typeof o=="function"?o:re[o],$=d=>{const E=M(d);c=d,E&&([h.value,y.value]=E,w.value="mouse"),e&&(a=e.scrollX,i=e.scrollY)},g=d=>{if(d.touches.length>0){const E=M(d.touches[0]);E&&([h.value,y.value]=E,w.value="touch")}},l=()=>{if(!c||!e)return;const d=M(c);c instanceof MouseEvent&&d&&(h.value=d[0]+e.scrollX-a,y.value=d[1]+e.scrollY-i)},p=()=>{h.value=s.x,y.value=s.y},b=v?d=>v(()=>$(d),{}):d=>$(d),O=v?d=>v(()=>g(d),{}):d=>g(d),R=v?()=>v(()=>l(),{}):()=>l();if(r){const d={passive:!0};S(r,["mousemove","dragover"],b,d),u&&o!=="movement"&&(S(r,["touchstart","touchmove"],O,d),n&&S(r,"touchend",p,d)),f&&o==="page"&&S(e,"scroll",R,d)}return{x:h,y,sourceType:w}}function ve(t,o={}){const{windowResize:u=!0,windowScroll:n=!0,handleOutside:s=!0,window:e=X}=o,r=o.type||"page",{x:f,y:v,sourceType:c}=ae(o),a=m(t??e?.document.body),i=m(0),h=m(0),y=m(0),w=m(0),M=m(0),$=m(0),g=m(!0);function l(){if(!e)return;const O=C(a);if(!(!O||!(O instanceof Element)))for(const R of O.getClientRects()){const{left:d,top:E,width:z,height:H}=R;y.value=d+(r==="page"?e.pageXOffset:0),w.value=E+(r==="page"?e.pageYOffset:0),M.value=H,$.value=z;const _=f.value-y.value,A=v.value-w.value;if(g.value=z===0||H===0||_<0||A<0||_>z||A>H,(s||!g.value)&&(i.value=_,h.value=A),!g.value)break}}const p=[];function b(){p.forEach(O=>O()),p.length=0}if(G(()=>{l()}),e){const{stop:O}=ue(a,l),{stop:R}=se(a,l,{attributeFilter:["style","class"]}),d=L([a,f,v],l);p.push(O,R,d),S(document,"mouseleave",()=>g.value=!0,{passive:!0}),n&&p.push(S("scroll",l,{capture:!0,passive:!0})),u&&p.push(S("resize",l,{passive:!0}))}return{x:f,y:v,sourceType:c,elementX:i,elementY:h,elementPositionX:y,elementPositionY:w,elementHeight:M,elementWidth:$,isOutside:g,stop:b}}export{S as a,de as b,ce as c,ve as u};
