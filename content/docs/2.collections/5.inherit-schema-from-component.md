---
title: 从 Vue 组件继承模式
navigation:
  title: 从组件继承
description: 使用 property().inherit() 重用 Vue 组件的 props 作为集合模式的一部分。
---

您可以重用 Vue 组件的 props 作为集合模式的一部分。这有助于使您的内容模型与 UI 保持一致，减少重复，并防止偏差。

## 工作原理

Nuxt Content 提供了一个 `property()` 辅助函数，用于增强验证器并添加以下功能：

- **inherit(path)**: 将当前对象模式替换为从 `path` 处的 Vue 组件推断出的 props JSON Schema

在底层，Nuxt Content 读取组件的 props（通过 `nuxt-component-meta`）并将它们转换为 JSON Schema，然后将它们合并到您的集合模式中。

## 示例

```ts [content.config.ts]
import { defineContentConfig, defineCollection, property } from '@nuxt/content'
import { z } from 'zod'

export default defineContentConfig({
  collections: {
    pages: defineCollection({
      type: 'page',
      source: '**/*.md',
      schema: z.object({
        // 重用本地组件的 props
        hero: property(z.object({})).inherit('app/components/HeroSection.vue'),

        // 重用依赖项的 props（路径像导入一样解析）
        button: property(z.object({})).inherit('@nuxt/ui/components/Button.vue')
      })
    })
  }
})
```

## 注意事项

- `inherit()` 的参数像模块路径一样解析。您可以传递项目根目录的相对路径或包路径。
- `inherit()` 期望在对象字段上使用（例如，`property(z.object({}))`）。
- 支持嵌套使用：您可以将继承的对象放置在其他对象和数组内；Nuxt Content 递归替换 `$content.inherit` 标记。
- 如果无法解析组件，模式将回退到原始对象定义。

::tip
如果您需要在组件的 props 之上使用自定义输入，请将 `inherit()` 与 `editor(...)` 结合使用，以获得更好的 Studio 表单体验。
::